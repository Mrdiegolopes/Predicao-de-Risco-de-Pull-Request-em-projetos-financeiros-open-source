{"url": "https://api.github.com/repos/quantopian/zipline/pulls/2733", "id": 449918608, "node_id": "MDExOlB1bGxSZXF1ZXN0NDQ5OTE4NjA4", "html_url": "https://github.com/quantopian/zipline/pull/2733", "diff_url": "https://github.com/quantopian/zipline/pull/2733.diff", "patch_url": "https://github.com/quantopian/zipline/pull/2733.patch", "issue_url": "https://api.github.com/repos/quantopian/zipline/issues/2733", "number": 2733, "state": "closed", "locked": false, "title": "Bundle fixes and documentation improvements", "user": {"login": "llllllllll", "id": 3064397, "node_id": "MDQ6VXNlcjMwNjQzOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/3064397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/llllllllll", "html_url": "https://github.com/llllllllll", "followers_url": "https://api.github.com/users/llllllllll/followers", "following_url": "https://api.github.com/users/llllllllll/following{/other_user}", "gists_url": "https://api.github.com/users/llllllllll/gists{/gist_id}", "starred_url": "https://api.github.com/users/llllllllll/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/llllllllll/subscriptions", "organizations_url": "https://api.github.com/users/llllllllll/orgs", "repos_url": "https://api.github.com/users/llllllllll/repos", "events_url": "https://api.github.com/users/llllllllll/events{/privacy}", "received_events_url": "https://api.github.com/users/llllllllll/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "- make `quantopian-quandl` the default bundle\r\n- update documentation to reflect new default bundle\r\n- update documentation to make `quandl` bundle as deprecated\r\n- improve error message when no benchmark is provided", "created_at": "2020-07-16T05:57:44Z", "updated_at": "2020-07-22T20:08:34Z", "closed_at": "2020-07-22T20:08:33Z", "merged_at": "2020-07-22T20:08:33Z", "merge_commit_sha": "b46a80174b29588f49efd4e51fa2c273c2548265", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/quantopian/zipline/pulls/2733/commits", "review_comments_url": "https://api.github.com/repos/quantopian/zipline/pulls/2733/comments", "review_comment_url": "https://api.github.com/repos/quantopian/zipline/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/quantopian/zipline/issues/2733/comments", "statuses_url": "https://api.github.com/repos/quantopian/zipline/statuses/a23ed2dcaf1d2afa38f819081447316211b90b43", "head": {"label": "quantopian:bundle-doc-improvements", "ref": "bundle-doc-improvements", "sha": "a23ed2dcaf1d2afa38f819081447316211b90b43", "user": {"login": "quantopian", "id": 1393215, "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzOTMyMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1393215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quantopian", "html_url": "https://github.com/quantopian", "followers_url": "https://api.github.com/users/quantopian/followers", "following_url": "https://api.github.com/users/quantopian/following{/other_user}", "gists_url": "https://api.github.com/users/quantopian/gists{/gist_id}", "starred_url": "https://api.github.com/users/quantopian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quantopian/subscriptions", "organizations_url": "https://api.github.com/users/quantopian/orgs", "repos_url": "https://api.github.com/users/quantopian/repos", "events_url": "https://api.github.com/users/quantopian/events{/privacy}", "received_events_url": "https://api.github.com/users/quantopian/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 6297520, "node_id": "MDEwOlJlcG9zaXRvcnk2Mjk3NTIw", "name": "zipline", "full_name": "quantopian/zipline", "private": false, "owner": {"login": "quantopian", "id": 1393215, "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzOTMyMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1393215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quantopian", "html_url": "https://github.com/quantopian", "followers_url": "https://api.github.com/users/quantopian/followers", "following_url": "https://api.github.com/users/quantopian/following{/other_user}", "gists_url": "https://api.github.com/users/quantopian/gists{/gist_id}", "starred_url": "https://api.github.com/users/quantopian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quantopian/subscriptions", "organizations_url": "https://api.github.com/users/quantopian/orgs", "repos_url": "https://api.github.com/users/quantopian/repos", "events_url": "https://api.github.com/users/quantopian/events{/privacy}", "received_events_url": "https://api.github.com/users/quantopian/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/quantopian/zipline", "description": "Zipline, a Pythonic Algorithmic Trading Library", "fork": false, "url": "https://api.github.com/repos/quantopian/zipline", "forks_url": "https://api.github.com/repos/quantopian/zipline/forks", "keys_url": "https://api.github.com/repos/quantopian/zipline/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/quantopian/zipline/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/quantopian/zipline/teams", "hooks_url": "https://api.github.com/repos/quantopian/zipline/hooks", "issue_events_url": "https://api.github.com/repos/quantopian/zipline/issues/events{/number}", "events_url": "https://api.github.com/repos/quantopian/zipline/events", "assignees_url": "https://api.github.com/repos/quantopian/zipline/assignees{/user}", "branches_url": "https://api.github.com/repos/quantopian/zipline/branches{/branch}", "tags_url": "https://api.github.com/repos/quantopian/zipline/tags", "blobs_url": "https://api.github.com/repos/quantopian/zipline/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/quantopian/zipline/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/quantopian/zipline/git/refs{/sha}", "trees_url": "https://api.github.com/repos/quantopian/zipline/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/quantopian/zipline/statuses/{sha}", "languages_url": "https://api.github.com/repos/quantopian/zipline/languages", "stargazers_url": "https://api.github.com/repos/quantopian/zipline/stargazers", "contributors_url": "https://api.github.com/repos/quantopian/zipline/contributors", "subscribers_url": "https://api.github.com/repos/quantopian/zipline/subscribers", "subscription_url": "https://api.github.com/repos/quantopian/zipline/subscription", "commits_url": "https://api.github.com/repos/quantopian/zipline/commits{/sha}", "git_commits_url": "https://api.github.com/repos/quantopian/zipline/git/commits{/sha}", "comments_url": "https://api.github.com/repos/quantopian/zipline/comments{/number}", "issue_comment_url": "https://api.github.com/repos/quantopian/zipline/issues/comments{/number}", "contents_url": "https://api.github.com/repos/quantopian/zipline/contents/{+path}", "compare_url": "https://api.github.com/repos/quantopian/zipline/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/quantopian/zipline/merges", "archive_url": "https://api.github.com/repos/quantopian/zipline/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/quantopian/zipline/downloads", "issues_url": "https://api.github.com/repos/quantopian/zipline/issues{/number}", "pulls_url": "https://api.github.com/repos/quantopian/zipline/pulls{/number}", "milestones_url": "https://api.github.com/repos/quantopian/zipline/milestones{/number}", "notifications_url": "https://api.github.com/repos/quantopian/zipline/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/quantopian/zipline/labels{/name}", "releases_url": "https://api.github.com/repos/quantopian/zipline/releases{/id}", "deployments_url": "https://api.github.com/repos/quantopian/zipline/deployments", "created_at": "2012-10-19T15:50:29Z", "updated_at": "2026-01-18T22:48:07Z", "pushed_at": "2024-02-13T08:02:51Z", "git_url": "git://github.com/quantopian/zipline.git", "ssh_url": "git@github.com:quantopian/zipline.git", "clone_url": "https://github.com/quantopian/zipline.git", "svn_url": "https://github.com/quantopian/zipline", "homepage": "https://www.zipline.io", "size": 170757, "stargazers_count": 19346, "watchers_count": 19346, "language": "Python", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": true, "has_discussions": false, "forks_count": 4937, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 366, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["algorithmic-trading", "python", "quant", "zipline"], "visibility": "public", "forks": 4937, "open_issues": 366, "watchers": 19346, "default_branch": "master"}}, "base": {"label": "quantopian:master", "ref": "master", "sha": "0e0b9ec0a71641a9d0f08a803d42e92d2af90faf", "user": {"login": "quantopian", "id": 1393215, "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzOTMyMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1393215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quantopian", "html_url": "https://github.com/quantopian", "followers_url": "https://api.github.com/users/quantopian/followers", "following_url": "https://api.github.com/users/quantopian/following{/other_user}", "gists_url": "https://api.github.com/users/quantopian/gists{/gist_id}", "starred_url": "https://api.github.com/users/quantopian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quantopian/subscriptions", "organizations_url": "https://api.github.com/users/quantopian/orgs", "repos_url": "https://api.github.com/users/quantopian/repos", "events_url": "https://api.github.com/users/quantopian/events{/privacy}", "received_events_url": "https://api.github.com/users/quantopian/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 6297520, "node_id": "MDEwOlJlcG9zaXRvcnk2Mjk3NTIw", "name": "zipline", "full_name": "quantopian/zipline", "private": false, "owner": {"login": "quantopian", "id": 1393215, "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzOTMyMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1393215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quantopian", "html_url": "https://github.com/quantopian", "followers_url": "https://api.github.com/users/quantopian/followers", "following_url": "https://api.github.com/users/quantopian/following{/other_user}", "gists_url": "https://api.github.com/users/quantopian/gists{/gist_id}", "starred_url": "https://api.github.com/users/quantopian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quantopian/subscriptions", "organizations_url": "https://api.github.com/users/quantopian/orgs", "repos_url": "https://api.github.com/users/quantopian/repos", "events_url": "https://api.github.com/users/quantopian/events{/privacy}", "received_events_url": "https://api.github.com/users/quantopian/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/quantopian/zipline", "description": "Zipline, a Pythonic Algorithmic Trading Library", "fork": false, "url": "https://api.github.com/repos/quantopian/zipline", "forks_url": "https://api.github.com/repos/quantopian/zipline/forks", "keys_url": "https://api.github.com/repos/quantopian/zipline/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/quantopian/zipline/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/quantopian/zipline/teams", "hooks_url": "https://api.github.com/repos/quantopian/zipline/hooks", "issue_events_url": "https://api.github.com/repos/quantopian/zipline/issues/events{/number}", "events_url": "https://api.github.com/repos/quantopian/zipline/events", "assignees_url": "https://api.github.com/repos/quantopian/zipline/assignees{/user}", "branches_url": "https://api.github.com/repos/quantopian/zipline/branches{/branch}", "tags_url": "https://api.github.com/repos/quantopian/zipline/tags", "blobs_url": "https://api.github.com/repos/quantopian/zipline/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/quantopian/zipline/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/quantopian/zipline/git/refs{/sha}", "trees_url": "https://api.github.com/repos/quantopian/zipline/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/quantopian/zipline/statuses/{sha}", "languages_url": "https://api.github.com/repos/quantopian/zipline/languages", "stargazers_url": "https://api.github.com/repos/quantopian/zipline/stargazers", "contributors_url": "https://api.github.com/repos/quantopian/zipline/contributors", "subscribers_url": "https://api.github.com/repos/quantopian/zipline/subscribers", "subscription_url": "https://api.github.com/repos/quantopian/zipline/subscription", "commits_url": "https://api.github.com/repos/quantopian/zipline/commits{/sha}", "git_commits_url": "https://api.github.com/repos/quantopian/zipline/git/commits{/sha}", "comments_url": "https://api.github.com/repos/quantopian/zipline/comments{/number}", "issue_comment_url": "https://api.github.com/repos/quantopian/zipline/issues/comments{/number}", "contents_url": "https://api.github.com/repos/quantopian/zipline/contents/{+path}", "compare_url": "https://api.github.com/repos/quantopian/zipline/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/quantopian/zipline/merges", "archive_url": "https://api.github.com/repos/quantopian/zipline/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/quantopian/zipline/downloads", "issues_url": "https://api.github.com/repos/quantopian/zipline/issues{/number}", "pulls_url": "https://api.github.com/repos/quantopian/zipline/pulls{/number}", "milestones_url": "https://api.github.com/repos/quantopian/zipline/milestones{/number}", "notifications_url": "https://api.github.com/repos/quantopian/zipline/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/quantopian/zipline/labels{/name}", "releases_url": "https://api.github.com/repos/quantopian/zipline/releases{/id}", "deployments_url": "https://api.github.com/repos/quantopian/zipline/deployments", "created_at": "2012-10-19T15:50:29Z", "updated_at": "2026-01-18T22:48:07Z", "pushed_at": "2024-02-13T08:02:51Z", "git_url": "git://github.com/quantopian/zipline.git", "ssh_url": "git@github.com:quantopian/zipline.git", "clone_url": "https://github.com/quantopian/zipline.git", "svn_url": "https://github.com/quantopian/zipline", "homepage": "https://www.zipline.io", "size": 170757, "stargazers_count": 19346, "watchers_count": 19346, "language": "Python", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": false, "has_pages": true, "has_discussions": false, "forks_count": 4937, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 366, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["algorithmic-trading", "python", "quant", "zipline"], "visibility": "public", "forks": 4937, "open_issues": 366, "watchers": 19346, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/2733"}, "html": {"href": "https://github.com/quantopian/zipline/pull/2733"}, "issue": {"href": "https://api.github.com/repos/quantopian/zipline/issues/2733"}, "comments": {"href": "https://api.github.com/repos/quantopian/zipline/issues/2733/comments"}, "review_comments": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/2733/comments"}, "review_comment": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/2733/commits"}, "statuses": {"href": "https://api.github.com/repos/quantopian/zipline/statuses/a23ed2dcaf1d2afa38f819081447316211b90b43"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "llllllllll", "id": 3064397, "node_id": "MDQ6VXNlcjMwNjQzOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/3064397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/llllllllll", "html_url": "https://github.com/llllllllll", "followers_url": "https://api.github.com/users/llllllllll/followers", "following_url": "https://api.github.com/users/llllllllll/following{/other_user}", "gists_url": "https://api.github.com/users/llllllllll/gists{/gist_id}", "starred_url": "https://api.github.com/users/llllllllll/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/llllllllll/subscriptions", "organizations_url": "https://api.github.com/users/llllllllll/orgs", "repos_url": "https://api.github.com/users/llllllllll/repos", "events_url": "https://api.github.com/users/llllllllll/events{/privacy}", "received_events_url": "https://api.github.com/users/llllllllll/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "comments": 2, "review_comments": [{"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455890195", "pull_request_review_id": 449983389, "id": 455890195, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg5MDE5NQ==", "diff_hunk": "@@ -42,20 +42,18 @@ ingestion for ``quantopian-quandl``.\n Ingesting Data\n ~~~~~~~~~~~~~~\n \n-The first step to using a data bundle is to ingest the data. The ingestion\n-process will invoke some custom bundle command and then write the data to a\n-standard location that zipline can find. By default the location where ingested\n-data will be written is ``$ZIPLINE_ROOT/data/<bundle>`` where by default\n-``ZIPLINE_ROOT=~/.zipline``. The ingestion step may take some time as it could\n-involve downloading and processing a lot of data. You'll need a\n-`Quandl <https://docs.quandl.com/docs#section-authentication>`__ API key to ingest the default bundle. This can be run with:\n+The first step to using a data bundle is to ingest the data.\n+The ingestion process will invoke some custom bundle command and then write the data to a standard location that zipline can find.\n+By default the location where ingested data will be written is ``$ZIPLINE_ROOT/data/<bundle>`` where by default ``ZIPLINE_ROOT=~/.zipline``.\n+The ingestion step may take some time as it could involve downloading and processing a lot of data.\n+To ingest a bundle, run:\n \n .. code-block:: bash\n \n-   $ QUANDL_API_KEY=<yourkey> zipline ingest [-b <bundle>]\n+   $ zipline ingest [-b <bundle>]\n \n \n-where ``<bundle>`` is the name of the bundle to ingest, defaulting to ``quandl``.\n+where ``<bundle>`` is the name of the bundle to ingest, defaulting to ``quantoipian-quandl``.", "path": "docs/source/bundles.rst", "commit_id": "a23ed2dcaf1d2afa38f819081447316211b90b43", "original_commit_id": "d784a69865393d88d54397d6026765156ff6b4f2", "user": {"login": "richafrank", "id": 2123660, "node_id": "MDQ6VXNlcjIxMjM2NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2123660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richafrank", "html_url": "https://github.com/richafrank", "followers_url": "https://api.github.com/users/richafrank/followers", "following_url": "https://api.github.com/users/richafrank/following{/other_user}", "gists_url": "https://api.github.com/users/richafrank/gists{/gist_id}", "starred_url": "https://api.github.com/users/richafrank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richafrank/subscriptions", "organizations_url": "https://api.github.com/users/richafrank/orgs", "repos_url": "https://api.github.com/users/richafrank/repos", "events_url": "https://api.github.com/users/richafrank/events{/privacy}", "received_events_url": "https://api.github.com/users/richafrank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "```suggestion\r\nwhere ``<bundle>`` is the name of the bundle to ingest, defaulting to ``quantopian-quandl``.\r\n```", "created_at": "2020-07-16T15:50:53Z", "updated_at": "2020-07-22T16:24:45Z", "html_url": "https://github.com/quantopian/zipline/pull/2733#discussion_r455890195", "pull_request_url": "https://api.github.com/repos/quantopian/zipline/pulls/2733", "_links": {"self": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455890195"}, "html": {"href": "https://github.com/quantopian/zipline/pull/2733#discussion_r455890195"}, "pull_request": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/2733"}}, "reactions": {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455890195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "start_line": null, "original_start_line": null, "start_side": null, "line": null, "original_line": 56, "side": "RIGHT", "author_association": "MEMBER", "original_position": 35, "position": 1, "subject_type": "line"}, {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455890507", "pull_request_review_id": 449983389, "id": 455890507, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg5MDUwNw==", "diff_hunk": "@@ -151,7 +151,7 @@ def _(*args, **kwargs):\n @click.option(\n     '-b',\n     '--bundle',\n-    default='quandl',\n+    default='quantiopian-quandl',", "path": "zipline/__main__.py", "commit_id": "a23ed2dcaf1d2afa38f819081447316211b90b43", "original_commit_id": "d784a69865393d88d54397d6026765156ff6b4f2", "user": {"login": "richafrank", "id": 2123660, "node_id": "MDQ6VXNlcjIxMjM2NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2123660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richafrank", "html_url": "https://github.com/richafrank", "followers_url": "https://api.github.com/users/richafrank/followers", "following_url": "https://api.github.com/users/richafrank/following{/other_user}", "gists_url": "https://api.github.com/users/richafrank/gists{/gist_id}", "starred_url": "https://api.github.com/users/richafrank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richafrank/subscriptions", "organizations_url": "https://api.github.com/users/richafrank/orgs", "repos_url": "https://api.github.com/users/richafrank/repos", "events_url": "https://api.github.com/users/richafrank/events{/privacy}", "received_events_url": "https://api.github.com/users/richafrank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "```suggestion\r\n    default='quantopian-quandl',\r\n```", "created_at": "2020-07-16T15:51:19Z", "updated_at": "2020-07-22T16:24:45Z", "html_url": "https://github.com/quantopian/zipline/pull/2733#discussion_r455890507", "pull_request_url": "https://api.github.com/repos/quantopian/zipline/pulls/2733", "_links": {"self": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455890507"}, "html": {"href": "https://github.com/quantopian/zipline/pull/2733#discussion_r455890507"}, "pull_request": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/2733"}}, "reactions": {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455890507/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "start_line": null, "original_start_line": null, "start_side": null, "line": null, "original_line": 154, "side": "RIGHT", "author_association": "MEMBER", "original_position": 5, "position": 1, "subject_type": "line"}, {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455892733", "pull_request_review_id": 449983389, "id": 455892733, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg5MjczMw==", "diff_hunk": "@@ -28,8 +28,8 @@ new bundles. To see which bundles we have available, we may run the\n The output here shows that there are 3 bundles available:\n \n - ``my-custom-bundle`` (added by the user)\n-- ``quandl`` (provided by zipline)\n-- ``quantopian-quandl`` (provided by zipline)\n+- ``quandl`` (provided by zipline, though deprecated)\n+- ``quantopian-quandl`` (provided by zipline, the default bundle)", "path": "docs/source/bundles.rst", "commit_id": "a23ed2dcaf1d2afa38f819081447316211b90b43", "original_commit_id": "d784a69865393d88d54397d6026765156ff6b4f2", "user": {"login": "richafrank", "id": 2123660, "node_id": "MDQ6VXNlcjIxMjM2NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2123660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richafrank", "html_url": "https://github.com/richafrank", "followers_url": "https://api.github.com/users/richafrank/followers", "following_url": "https://api.github.com/users/richafrank/following{/other_user}", "gists_url": "https://api.github.com/users/richafrank/gists{/gist_id}", "starred_url": "https://api.github.com/users/richafrank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richafrank/subscriptions", "organizations_url": "https://api.github.com/users/richafrank/orgs", "repos_url": "https://api.github.com/users/richafrank/repos", "events_url": "https://api.github.com/users/richafrank/events{/privacy}", "received_events_url": "https://api.github.com/users/richafrank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "Let's remove the [deprecation warning](https://github.com/quantopian/zipline/blob/d4ba48709d2c6b910cd43534b6d4f9678042bf09/zipline/data/bundles/quandl.py#L311-L314) from using this bundle and add one to quandl.", "created_at": "2020-07-16T15:54:19Z", "updated_at": "2020-07-22T16:24:45Z", "html_url": "https://github.com/quantopian/zipline/pull/2733#discussion_r455892733", "pull_request_url": "https://api.github.com/repos/quantopian/zipline/pulls/2733", "_links": {"self": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455892733"}, "html": {"href": "https://github.com/quantopian/zipline/pull/2733#discussion_r455892733"}, "pull_request": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/2733"}}, "reactions": {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455892733/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "start_line": null, "original_start_line": null, "start_side": null, "line": 32, "original_line": 32, "side": "RIGHT", "author_association": "MEMBER", "original_position": 7, "position": 7, "subject_type": "line"}, {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455896326", "pull_request_review_id": 449983389, "id": 455896326, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg5NjMyNg==", "diff_hunk": "@@ -119,30 +117,22 @@ Default Data Bundles\n Quandl WIKI Bundle\n ``````````````````\n \n-By default zipline comes with the ``quandl`` data bundle which uses quandl's\n-`WIKI dataset <https://www.quandl.com/data/WIKI>`_. The quandl data bundle\n-includes daily pricing data, splits, cash dividends, and asset metadata. To\n-ingest the ``quandl`` data bundle we recommend creating an account on quandl.com", "path": "docs/source/bundles.rst", "commit_id": "a23ed2dcaf1d2afa38f819081447316211b90b43", "original_commit_id": "d784a69865393d88d54397d6026765156ff6b4f2", "user": {"login": "richafrank", "id": 2123660, "node_id": "MDQ6VXNlcjIxMjM2NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2123660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richafrank", "html_url": "https://github.com/richafrank", "followers_url": "https://api.github.com/users/richafrank/followers", "following_url": "https://api.github.com/users/richafrank/following{/other_user}", "gists_url": "https://api.github.com/users/richafrank/gists{/gist_id}", "starred_url": "https://api.github.com/users/richafrank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richafrank/subscriptions", "organizations_url": "https://api.github.com/users/richafrank/orgs", "repos_url": "https://api.github.com/users/richafrank/repos", "events_url": "https://api.github.com/users/richafrank/events{/privacy}", "received_events_url": "https://api.github.com/users/richafrank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "Should we still document the `quandl` bundle somewhere?", "created_at": "2020-07-16T15:59:21Z", "updated_at": "2020-07-22T16:24:45Z", "html_url": "https://github.com/quantopian/zipline/pull/2733#discussion_r455896326", "pull_request_url": "https://api.github.com/repos/quantopian/zipline/pulls/2733", "_links": {"self": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455896326"}, "html": {"href": "https://github.com/quantopian/zipline/pull/2733#discussion_r455896326"}, "pull_request": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/2733"}}, "reactions": {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455896326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "start_line": null, "original_start_line": null, "start_side": null, "line": 125, "original_line": 125, "side": "LEFT", "author_association": "MEMBER", "original_position": 46, "position": 46, "subject_type": "line"}, {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455896911", "pull_request_review_id": 449983389, "id": 455896911, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg5NjkxMQ==", "diff_hunk": "@@ -119,30 +117,22 @@ Default Data Bundles\n Quandl WIKI Bundle\n ``````````````````\n \n-By default zipline comes with the ``quandl`` data bundle which uses quandl's\n-`WIKI dataset <https://www.quandl.com/data/WIKI>`_. The quandl data bundle\n-includes daily pricing data, splits, cash dividends, and asset metadata. To\n-ingest the ``quandl`` data bundle we recommend creating an account on quandl.com\n-to get an API key to be able to make more API requests per day. Once we have an\n-API key we may run:\n+By default zipline comes with the ``quantopian-quandl`` data bundle which uses quandl's `WIKI dataset <https://www.quandl.com/data/WIKI>`_.\n+The quandl data bundle includes daily pricing data, splits, cash dividends, and asset metadata.\n+Quantopian has ingested the data from quandl and rebundled it to make ingestion much faster.\n+To ingest the ``quantopian-quandl`` data bundle, run either of the following commands:\n \n .. code-block:: bash\n \n-   $ QUANDL_API_KEY=<api-key> zipline ingest -b quandl\n+   $ zipline ingest -b quantopian-quandl\n+   $ zipline ingest\n \n-though we may still run ``ingest`` as an anonymous quandl user (with no API\n-key). We may also set the ``QUANDL_DOWNLOAD_ATTEMPTS`` environment variable to\n-an integer which is the number of attempts that should be made to download data\n-from quandl's servers. By default ``QUANDL_DOWNLOAD_ATTEMPTS`` will be 5, meaning\n-that we will retry each attempt 5 times.\n+These commands should only take a few seconds to download the data.", "path": "docs/source/bundles.rst", "commit_id": "a23ed2dcaf1d2afa38f819081447316211b90b43", "original_commit_id": "d784a69865393d88d54397d6026765156ff6b4f2", "user": {"login": "richafrank", "id": 2123660, "node_id": "MDQ6VXNlcjIxMjM2NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2123660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richafrank", "html_url": "https://github.com/richafrank", "followers_url": "https://api.github.com/users/richafrank/followers", "following_url": "https://api.github.com/users/richafrank/following{/other_user}", "gists_url": "https://api.github.com/users/richafrank/gists{/gist_id}", "starred_url": "https://api.github.com/users/richafrank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richafrank/subscriptions", "organizations_url": "https://api.github.com/users/richafrank/orgs", "repos_url": "https://api.github.com/users/richafrank/repos", "events_url": "https://api.github.com/users/richafrank/events{/privacy}", "received_events_url": "https://api.github.com/users/richafrank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "```suggestion\r\nEither command should only take a few seconds to download the data.\r\n```", "created_at": "2020-07-16T16:00:13Z", "updated_at": "2020-07-22T16:24:45Z", "html_url": "https://github.com/quantopian/zipline/pull/2733#discussion_r455896911", "pull_request_url": "https://api.github.com/repos/quantopian/zipline/pulls/2733", "_links": {"self": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455896911"}, "html": {"href": "https://github.com/quantopian/zipline/pull/2733#discussion_r455896911"}, "pull_request": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/2733"}}, "reactions": {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455896911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "start_line": null, "original_start_line": null, "start_side": null, "line": null, "original_line": 130, "side": "RIGHT", "author_association": "MEMBER", "original_position": 65, "position": 1, "subject_type": "line"}, {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455897215", "pull_request_review_id": 449983389, "id": 455897215, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg5NzIxNQ==", "diff_hunk": "@@ -140,6 +140,13 @@\n AttachedPipeline = namedtuple('AttachedPipeline', 'pipe chunks eager')\n \n \n+class NoBenchmark(ValueError):\n+    def __init__(self):\n+        super().__init__(", "path": "zipline/algorithm.py", "commit_id": "a23ed2dcaf1d2afa38f819081447316211b90b43", "original_commit_id": "d784a69865393d88d54397d6026765156ff6b4f2", "user": {"login": "richafrank", "id": 2123660, "node_id": "MDQ6VXNlcjIxMjM2NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2123660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richafrank", "html_url": "https://github.com/richafrank", "followers_url": "https://api.github.com/users/richafrank/followers", "following_url": "https://api.github.com/users/richafrank/following{/other_user}", "gists_url": "https://api.github.com/users/richafrank/gists{/gist_id}", "starred_url": "https://api.github.com/users/richafrank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richafrank/subscriptions", "organizations_url": "https://api.github.com/users/richafrank/orgs", "repos_url": "https://api.github.com/users/richafrank/repos", "events_url": "https://api.github.com/users/richafrank/events{/privacy}", "received_events_url": "https://api.github.com/users/richafrank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "Reminder for py2 compat (for this release)", "created_at": "2020-07-16T16:00:40Z", "updated_at": "2020-07-22T16:24:45Z", "html_url": "https://github.com/quantopian/zipline/pull/2733#discussion_r455897215", "pull_request_url": "https://api.github.com/repos/quantopian/zipline/pulls/2733", "_links": {"self": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455897215"}, "html": {"href": "https://github.com/quantopian/zipline/pull/2733#discussion_r455897215"}, "pull_request": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/2733"}}, "reactions": {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455897215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "start_line": null, "original_start_line": null, "start_side": null, "line": null, "original_line": 145, "side": "RIGHT", "author_association": "MEMBER", "original_position": 6, "position": 1, "subject_type": "line"}, {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455899373", "pull_request_review_id": 449983389, "id": 455899373, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg5OTM3Mw==", "diff_hunk": "@@ -189,32 +189,46 @@ def choose_loader(column):\n         except ValueError as e:\n             raise _RunAlgoError(str(e))\n \n-    perf = TradingAlgorithm(\n-        namespace=namespace,\n-        data_portal=data,\n-        get_pipeline_loader=choose_loader,\n-        trading_calendar=trading_calendar,\n-        sim_params=SimulationParameters(\n-            start_session=start,\n-            end_session=end,\n+    try:\n+        perf = TradingAlgorithm(\n+            namespace=namespace,\n+            data_portal=data,\n+            get_pipeline_loader=choose_loader,\n             trading_calendar=trading_calendar,\n-            capital_base=capital_base,\n-            data_frequency=data_frequency,\n-        ),\n-        metrics_set=metrics_set,\n-        blotter=blotter,\n-        benchmark_returns=benchmark_returns,\n-        benchmark_sid=benchmark_sid,\n-        **{\n-            'initialize': initialize,\n-            'handle_data': handle_data,\n-            'before_trading_start': before_trading_start,\n-            'analyze': analyze,\n-        } if algotext is None else {\n-            'algo_filename': getattr(algofile, 'name', '<algorithm>'),\n-            'script': algotext,\n-        }\n-    ).run()\n+            sim_params=SimulationParameters(\n+                start_session=start,\n+                end_session=end,\n+                trading_calendar=trading_calendar,\n+                capital_base=capital_base,\n+                data_frequency=data_frequency,\n+            ),\n+            metrics_set=metrics_set,\n+            blotter=blotter,\n+            benchmark_returns=benchmark_returns,\n+            benchmark_sid=benchmark_sid,\n+            **{\n+                'initialize': initialize,\n+                'handle_data': handle_data,\n+                'before_trading_start': before_trading_start,\n+                'analyze': analyze,\n+            } if algotext is None else {\n+                'algo_filename': getattr(algofile, 'name', '<algorithm>'),\n+                'script': algotext,\n+            }\n+        ).run()\n+    except NoBenchmark:\n+        raise _RunAlgoError(", "path": "zipline/utils/run_algo.py", "commit_id": "a23ed2dcaf1d2afa38f819081447316211b90b43", "original_commit_id": "d784a69865393d88d54397d6026765156ff6b4f2", "user": {"login": "richafrank", "id": 2123660, "node_id": "MDQ6VXNlcjIxMjM2NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2123660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richafrank", "html_url": "https://github.com/richafrank", "followers_url": "https://api.github.com/users/richafrank/followers", "following_url": "https://api.github.com/users/richafrank/following{/other_user}", "gists_url": "https://api.github.com/users/richafrank/gists{/gist_id}", "starred_url": "https://api.github.com/users/richafrank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richafrank/subscriptions", "organizations_url": "https://api.github.com/users/richafrank/orgs", "repos_url": "https://api.github.com/users/richafrank/repos", "events_url": "https://api.github.com/users/richafrank/events{/privacy}", "received_events_url": "https://api.github.com/users/richafrank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "Nice use of `_RunAlgoError`. I hadn't remembered this existed.", "created_at": "2020-07-16T16:04:00Z", "updated_at": "2020-07-22T16:24:45Z", "html_url": "https://github.com/quantopian/zipline/pull/2733#discussion_r455899373", "pull_request_url": "https://api.github.com/repos/quantopian/zipline/pulls/2733", "_links": {"self": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455899373"}, "html": {"href": "https://github.com/quantopian/zipline/pull/2733#discussion_r455899373"}, "pull_request": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/2733"}}, "reactions": {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455899373/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "start_line": null, "original_start_line": null, "start_side": null, "line": 220, "original_line": 220, "side": "RIGHT", "author_association": "MEMBER", "original_position": 66, "position": 66, "subject_type": "line"}, {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455900368", "pull_request_review_id": 449983389, "id": 455900368, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwMDM2OA==", "diff_hunk": "@@ -189,32 +189,46 @@ def choose_loader(column):\n         except ValueError as e:\n             raise _RunAlgoError(str(e))\n \n-    perf = TradingAlgorithm(\n-        namespace=namespace,\n-        data_portal=data,\n-        get_pipeline_loader=choose_loader,\n-        trading_calendar=trading_calendar,\n-        sim_params=SimulationParameters(\n-            start_session=start,\n-            end_session=end,\n+    try:\n+        perf = TradingAlgorithm(\n+            namespace=namespace,\n+            data_portal=data,\n+            get_pipeline_loader=choose_loader,\n             trading_calendar=trading_calendar,\n-            capital_base=capital_base,\n-            data_frequency=data_frequency,\n-        ),\n-        metrics_set=metrics_set,\n-        blotter=blotter,\n-        benchmark_returns=benchmark_returns,\n-        benchmark_sid=benchmark_sid,\n-        **{\n-            'initialize': initialize,\n-            'handle_data': handle_data,\n-            'before_trading_start': before_trading_start,\n-            'analyze': analyze,\n-        } if algotext is None else {\n-            'algo_filename': getattr(algofile, 'name', '<algorithm>'),\n-            'script': algotext,\n-        }\n-    ).run()\n+            sim_params=SimulationParameters(\n+                start_session=start,\n+                end_session=end,\n+                trading_calendar=trading_calendar,\n+                capital_base=capital_base,\n+                data_frequency=data_frequency,\n+            ),\n+            metrics_set=metrics_set,\n+            blotter=blotter,\n+            benchmark_returns=benchmark_returns,\n+            benchmark_sid=benchmark_sid,\n+            **{\n+                'initialize': initialize,\n+                'handle_data': handle_data,\n+                'before_trading_start': before_trading_start,\n+                'analyze': analyze,\n+            } if algotext is None else {\n+                'algo_filename': getattr(algofile, 'name', '<algorithm>'),\n+                'script': algotext,\n+            }\n+        ).run()\n+    except NoBenchmark:\n+        raise _RunAlgoError(\n+            (\n+                'no ``benchmark_spec`` was provided and'\n+                ' ``zipline.api.set_benchmark`` was not called in'\n+                ' ``initialize``'", "path": "zipline/utils/run_algo.py", "commit_id": "a23ed2dcaf1d2afa38f819081447316211b90b43", "original_commit_id": "d784a69865393d88d54397d6026765156ff6b4f2", "user": {"login": "richafrank", "id": 2123660, "node_id": "MDQ6VXNlcjIxMjM2NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2123660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richafrank", "html_url": "https://github.com/richafrank", "followers_url": "https://api.github.com/users/richafrank/followers", "following_url": "https://api.github.com/users/richafrank/following{/other_user}", "gists_url": "https://api.github.com/users/richafrank/gists{/gist_id}", "starred_url": "https://api.github.com/users/richafrank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richafrank/subscriptions", "organizations_url": "https://api.github.com/users/richafrank/orgs", "repos_url": "https://api.github.com/users/richafrank/repos", "events_url": "https://api.github.com/users/richafrank/events{/privacy}", "received_events_url": "https://api.github.com/users/richafrank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "```suggestion\r\n                'No ``benchmark_spec`` was provided, and'\r\n                ' ``zipline.api.set_benchmark`` was not called in'\r\n                ' ``initialize``.'\r\n```", "created_at": "2020-07-16T16:05:24Z", "updated_at": "2020-07-22T16:24:45Z", "html_url": "https://github.com/quantopian/zipline/pull/2733#discussion_r455900368", "pull_request_url": "https://api.github.com/repos/quantopian/zipline/pulls/2733", "_links": {"self": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455900368"}, "html": {"href": "https://github.com/quantopian/zipline/pull/2733#discussion_r455900368"}, "pull_request": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/2733"}}, "reactions": {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455900368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "start_line": null, "original_start_line": 222, "start_side": "RIGHT", "line": null, "original_line": 224, "side": "RIGHT", "author_association": "MEMBER", "original_position": 70, "position": 1, "subject_type": "line"}, {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455900685", "pull_request_review_id": 449983389, "id": 455900685, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwMDY4NQ==", "diff_hunk": "@@ -189,32 +189,46 @@ def choose_loader(column):\n         except ValueError as e:\n             raise _RunAlgoError(str(e))\n \n-    perf = TradingAlgorithm(\n-        namespace=namespace,\n-        data_portal=data,\n-        get_pipeline_loader=choose_loader,\n-        trading_calendar=trading_calendar,\n-        sim_params=SimulationParameters(\n-            start_session=start,\n-            end_session=end,\n+    try:\n+        perf = TradingAlgorithm(\n+            namespace=namespace,\n+            data_portal=data,\n+            get_pipeline_loader=choose_loader,\n             trading_calendar=trading_calendar,\n-            capital_base=capital_base,\n-            data_frequency=data_frequency,\n-        ),\n-        metrics_set=metrics_set,\n-        blotter=blotter,\n-        benchmark_returns=benchmark_returns,\n-        benchmark_sid=benchmark_sid,\n-        **{\n-            'initialize': initialize,\n-            'handle_data': handle_data,\n-            'before_trading_start': before_trading_start,\n-            'analyze': analyze,\n-        } if algotext is None else {\n-            'algo_filename': getattr(algofile, 'name', '<algorithm>'),\n-            'script': algotext,\n-        }\n-    ).run()\n+            sim_params=SimulationParameters(\n+                start_session=start,\n+                end_session=end,\n+                trading_calendar=trading_calendar,\n+                capital_base=capital_base,\n+                data_frequency=data_frequency,\n+            ),\n+            metrics_set=metrics_set,\n+            blotter=blotter,\n+            benchmark_returns=benchmark_returns,\n+            benchmark_sid=benchmark_sid,\n+            **{\n+                'initialize': initialize,\n+                'handle_data': handle_data,\n+                'before_trading_start': before_trading_start,\n+                'analyze': analyze,\n+            } if algotext is None else {\n+                'algo_filename': getattr(algofile, 'name', '<algorithm>'),\n+                'script': algotext,\n+            }\n+        ).run()\n+    except NoBenchmark:\n+        raise _RunAlgoError(\n+            (\n+                'no ``benchmark_spec`` was provided and'\n+                ' ``zipline.api.set_benchmark`` was not called in'\n+                ' ``initialize``'\n+            ),\n+            (\n+                \"neither '--benchmark-symbol' nor '--benchmark-sid' was\"\n+                \" provided and ``zipline.api.set_benchmark`` was not called\"\n+                \" in ``initialize``, did you mean to pass '--no-benchmark'\"", "path": "zipline/utils/run_algo.py", "commit_id": "a23ed2dcaf1d2afa38f819081447316211b90b43", "original_commit_id": "d784a69865393d88d54397d6026765156ff6b4f2", "user": {"login": "richafrank", "id": 2123660, "node_id": "MDQ6VXNlcjIxMjM2NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2123660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richafrank", "html_url": "https://github.com/richafrank", "followers_url": "https://api.github.com/users/richafrank/followers", "following_url": "https://api.github.com/users/richafrank/following{/other_user}", "gists_url": "https://api.github.com/users/richafrank/gists{/gist_id}", "starred_url": "https://api.github.com/users/richafrank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richafrank/subscriptions", "organizations_url": "https://api.github.com/users/richafrank/orgs", "repos_url": "https://api.github.com/users/richafrank/repos", "events_url": "https://api.github.com/users/richafrank/events{/privacy}", "received_events_url": "https://api.github.com/users/richafrank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "```suggestion\r\n                \"Neither '--benchmark-symbol' nor '--benchmark-sid' was\"\r\n                \" provided, and ``zipline.api.set_benchmark`` was not called\"\r\n                \" in ``initialize``. Did you mean to pass '--no-benchmark'?\"\r\n```", "created_at": "2020-07-16T16:05:51Z", "updated_at": "2020-07-22T16:24:45Z", "html_url": "https://github.com/quantopian/zipline/pull/2733#discussion_r455900685", "pull_request_url": "https://api.github.com/repos/quantopian/zipline/pulls/2733", "_links": {"self": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455900685"}, "html": {"href": "https://github.com/quantopian/zipline/pull/2733#discussion_r455900685"}, "pull_request": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/2733"}}, "reactions": {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/455900685/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "start_line": null, "original_start_line": 227, "start_side": "RIGHT", "line": null, "original_line": 229, "side": "RIGHT", "author_association": "MEMBER", "original_position": 75, "position": 1, "subject_type": "line"}, {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/458842103", "pull_request_review_id": 453382757, "id": 458842103, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg0MjEwMw==", "diff_hunk": "@@ -119,30 +117,22 @@ Default Data Bundles\n Quandl WIKI Bundle\n ``````````````````\n \n-By default zipline comes with the ``quandl`` data bundle which uses quandl's\n-`WIKI dataset <https://www.quandl.com/data/WIKI>`_. The quandl data bundle\n-includes daily pricing data, splits, cash dividends, and asset metadata. To\n-ingest the ``quandl`` data bundle we recommend creating an account on quandl.com", "path": "docs/source/bundles.rst", "commit_id": "a23ed2dcaf1d2afa38f819081447316211b90b43", "original_commit_id": "d784a69865393d88d54397d6026765156ff6b4f2", "user": {"login": "llllllllll", "id": 3064397, "node_id": "MDQ6VXNlcjMwNjQzOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/3064397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/llllllllll", "html_url": "https://github.com/llllllllll", "followers_url": "https://api.github.com/users/llllllllll/followers", "following_url": "https://api.github.com/users/llllllllll/following{/other_user}", "gists_url": "https://api.github.com/users/llllllllll/gists{/gist_id}", "starred_url": "https://api.github.com/users/llllllllll/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/llllllllll/subscriptions", "organizations_url": "https://api.github.com/users/llllllllll/orgs", "repos_url": "https://api.github.com/users/llllllllll/repos", "events_url": "https://api.github.com/users/llllllllll/events{/privacy}", "received_events_url": "https://api.github.com/users/llllllllll/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "I don't think this bundle will still work, so we can remove it from the docs.", "created_at": "2020-07-22T14:37:55Z", "updated_at": "2020-07-22T16:24:45Z", "html_url": "https://github.com/quantopian/zipline/pull/2733#discussion_r458842103", "pull_request_url": "https://api.github.com/repos/quantopian/zipline/pulls/2733", "_links": {"self": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/comments/458842103"}, "html": {"href": "https://github.com/quantopian/zipline/pull/2733#discussion_r458842103"}, "pull_request": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/2733"}}, "reactions": {"url": "https://api.github.com/repos/quantopian/zipline/pulls/comments/458842103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "start_line": null, "original_start_line": null, "start_side": null, "line": 125, "original_line": 125, "side": "LEFT", "in_reply_to_id": 455896326, "author_association": "CONTRIBUTOR", "original_position": 46, "position": 46, "subject_type": "line"}], "maintainer_can_modify": false, "commits": 4, "additions": 72, "deletions": 68, "changed_files": 6, "reviews": [{"id": 449983389, "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5OTgzMzg5", "user": {"login": "richafrank", "id": 2123660, "node_id": "MDQ6VXNlcjIxMjM2NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2123660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richafrank", "html_url": "https://github.com/richafrank", "followers_url": "https://api.github.com/users/richafrank/followers", "following_url": "https://api.github.com/users/richafrank/following{/other_user}", "gists_url": "https://api.github.com/users/richafrank/gists{/gist_id}", "starred_url": "https://api.github.com/users/richafrank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richafrank/subscriptions", "organizations_url": "https://api.github.com/users/richafrank/orgs", "repos_url": "https://api.github.com/users/richafrank/repos", "events_url": "https://api.github.com/users/richafrank/events{/privacy}", "received_events_url": "https://api.github.com/users/richafrank/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "", "state": "COMMENTED", "html_url": "https://github.com/quantopian/zipline/pull/2733#pullrequestreview-449983389", "pull_request_url": "https://api.github.com/repos/quantopian/zipline/pulls/2733", "author_association": "MEMBER", "_links": {"html": {"href": "https://github.com/quantopian/zipline/pull/2733#pullrequestreview-449983389"}, "pull_request": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/2733"}}, "submitted_at": "2020-07-16T16:06:56Z", "commit_id": "d784a69865393d88d54397d6026765156ff6b4f2"}, {"id": 453382757, "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzgyNzU3", "user": {"login": "llllllllll", "id": 3064397, "node_id": "MDQ6VXNlcjMwNjQzOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/3064397?u=01580cd53339742863d12aed32452d1b7accb4e7&v=4", "gravatar_id": "", "url": "https://api.github.com/users/llllllllll", "html_url": "https://github.com/llllllllll", "followers_url": "https://api.github.com/users/llllllllll/followers", "following_url": "https://api.github.com/users/llllllllll/following{/other_user}", "gists_url": "https://api.github.com/users/llllllllll/gists{/gist_id}", "starred_url": "https://api.github.com/users/llllllllll/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/llllllllll/subscriptions", "organizations_url": "https://api.github.com/users/llllllllll/orgs", "repos_url": "https://api.github.com/users/llllllllll/repos", "events_url": "https://api.github.com/users/llllllllll/events{/privacy}", "received_events_url": "https://api.github.com/users/llllllllll/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "", "state": "COMMENTED", "html_url": "https://github.com/quantopian/zipline/pull/2733#pullrequestreview-453382757", "pull_request_url": "https://api.github.com/repos/quantopian/zipline/pulls/2733", "author_association": "CONTRIBUTOR", "_links": {"html": {"href": "https://github.com/quantopian/zipline/pull/2733#pullrequestreview-453382757"}, "pull_request": {"href": "https://api.github.com/repos/quantopian/zipline/pulls/2733"}}, "submitted_at": "2020-07-22T14:37:56Z", "commit_id": "d784a69865393d88d54397d6026765156ff6b4f2"}]}