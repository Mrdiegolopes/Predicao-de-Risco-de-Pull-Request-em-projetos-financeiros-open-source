{"url": "https://api.github.com/repos/QuantConnect/Lean/pulls/9230", "id": 3182755626, "node_id": "PR_kwDOAZ_TB869tP8q", "html_url": "https://github.com/QuantConnect/Lean/pull/9230", "diff_url": "https://github.com/QuantConnect/Lean/pull/9230.diff", "patch_url": "https://github.com/QuantConnect/Lean/pull/9230.patch", "issue_url": "https://api.github.com/repos/QuantConnect/Lean/issues/9230", "number": 9230, "state": "closed", "locked": false, "title": "Add openai CME Futures holiday extractors", "user": {"login": "Marinovsky", "id": 47573394, "node_id": "MDQ6VXNlcjQ3NTczMzk0", "avatar_url": "https://avatars.githubusercontent.com/u/47573394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Marinovsky", "html_url": "https://github.com/Marinovsky", "followers_url": "https://api.github.com/users/Marinovsky/followers", "following_url": "https://api.github.com/users/Marinovsky/following{/other_user}", "gists_url": "https://api.github.com/users/Marinovsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/Marinovsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Marinovsky/subscriptions", "organizations_url": "https://api.github.com/users/Marinovsky/orgs", "repos_url": "https://api.github.com/users/Marinovsky/repos", "events_url": "https://api.github.com/users/Marinovsky/events{/privacy}", "received_events_url": "https://api.github.com/users/Marinovsky/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "body": "<!--- Provide a general summary of your changes in the Title above -->\r\n\r\n#### Description\r\nI created two openai agents to extract the holiday calendar of CME futures and create a json file with the dates to add into the MHDB (Like this one [changes.json](https://github.com/user-attachments/files/24682183/changes.json)). The first agent was expected to scrap the holiday calendar directly from the website while the second had already the official files with the schedule for each holiday (available in their official site after signing up). Each agent used gpt-5.2, the model with outputs closer to the expected. \r\n\r\nThe first agent (scrapper.py) produces better outputs when given an structured output, web search parameter and reasoning in level `low`. However, although it learned to distinguish between full holidays and holidays, it doesn't recognize late opens and is\r\ninaccurate with the early closes and bank holidays. I believe this is because it doesn't have access to the official holiday schedule table, posted in CME website, as that table doesn't seem to be present in the HTML structure of the official source.\r\n\r\nThe second agent (transformer.py), produces an output way more accurate than the first one, using an structured output and reasoning in level `high`. It perfectly distinguishes between holidays and bank holidays and is accurate in the early close and late open times. However, it still doesn't handle correctly bank holiday dates with both early closes and late opens (Like independence day schedule for equity based futures). \r\n#### Related Issue\r\n<!--- This project only accepts pull requests related to open issues -->\r\n<!--- If suggesting a new feature or change, please discuss it in an issue first -->\r\n<!--- If fixing a bug, there should be an issue describing it with steps to reproduce -->\r\n<!--- Please link to the issue here: -->\r\nn/a\r\n#### Motivation and Context\r\n<!--- Why is this change required? What problem does it solve? -->\r\nWith this change, updating CME Futures market hours will take less time than it used to\r\n#### Requires Documentation Change\r\n<!--- Please indicate if these changes will require updates to documentation, and if so, specify what changes are required -->\r\nn/a\r\n#### How Has This Been Tested?\r\n<!--- Please describe in detail how you tested your changes. -->\r\n<!--- Include details of your testing environment, and the tests you ran to -->\r\n<!--- see how your change affects other areas of the code, etc. -->\r\nn/a\r\n#### Types of changes\r\n<!--- What types of changes does your code introduce? Put an `x` in all the boxes that apply: -->\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] Refactor (non-breaking change which improves implementation)\r\n- [ ] Performance (non-breaking change which improves performance. Please add associated performance test and results)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to change)\r\n- [ ] Non-functional change (xml comments/documentation/etc)\r\n\r\n#### Checklist:\r\n<!--- The following is a checklist of items that MUST be completed before a PR is accepted -->\r\n<!--- If you're unsure about any of these, don't hesitate to ask. We're here to help! -->\r\n- [x] My code follows the code style of this project.\r\n- [x] I have read the **CONTRIBUTING** [document](https://github.com/QuantConnect/Lean/blob/master/CONTRIBUTING.md).\r\n- [x] I have added tests to cover my changes. <!--- If not applicable, please explain why -->\r\n- [x] All new and existing tests passed.\r\n- [x] My branch follows the naming convention `bug-<issue#>-<description>` or `feature-<issue#>-<description>`\r\n\r\n<!--- Template inspired by https://www.talater.com/open-source-templates/#/page/99 -->\r\n", "created_at": "2026-01-16T21:25:51Z", "updated_at": "2026-01-16T21:28:05Z", "closed_at": "2026-01-16T21:28:05Z", "merged_at": null, "merge_commit_sha": "a9009da7f31f7bf1149ea1fa794ce9731cc7cc82", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/QuantConnect/Lean/pulls/9230/commits", "review_comments_url": "https://api.github.com/repos/QuantConnect/Lean/pulls/9230/comments", "review_comment_url": "https://api.github.com/repos/QuantConnect/Lean/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/QuantConnect/Lean/issues/9230/comments", "statuses_url": "https://api.github.com/repos/QuantConnect/Lean/statuses/245eba7fe9f73d00b5031485d47f8b420fec796b", "head": {"label": "Marinovsky:bug-CMEGroupFuturesHolidayExtractor", "ref": "bug-CMEGroupFuturesHolidayExtractor", "sha": "245eba7fe9f73d00b5031485d47f8b420fec796b", "user": {"login": "Marinovsky", "id": 47573394, "node_id": "MDQ6VXNlcjQ3NTczMzk0", "avatar_url": "https://avatars.githubusercontent.com/u/47573394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Marinovsky", "html_url": "https://github.com/Marinovsky", "followers_url": "https://api.github.com/users/Marinovsky/followers", "following_url": "https://api.github.com/users/Marinovsky/following{/other_user}", "gists_url": "https://api.github.com/users/Marinovsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/Marinovsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Marinovsky/subscriptions", "organizations_url": "https://api.github.com/users/Marinovsky/orgs", "repos_url": "https://api.github.com/users/Marinovsky/repos", "events_url": "https://api.github.com/users/Marinovsky/events{/privacy}", "received_events_url": "https://api.github.com/users/Marinovsky/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "repo": {"id": 399637877, "node_id": "MDEwOlJlcG9zaXRvcnkzOTk2Mzc4Nzc=", "name": "Lean", "full_name": "Marinovsky/Lean", "private": false, "owner": {"login": "Marinovsky", "id": 47573394, "node_id": "MDQ6VXNlcjQ3NTczMzk0", "avatar_url": "https://avatars.githubusercontent.com/u/47573394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Marinovsky", "html_url": "https://github.com/Marinovsky", "followers_url": "https://api.github.com/users/Marinovsky/followers", "following_url": "https://api.github.com/users/Marinovsky/following{/other_user}", "gists_url": "https://api.github.com/users/Marinovsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/Marinovsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Marinovsky/subscriptions", "organizations_url": "https://api.github.com/users/Marinovsky/orgs", "repos_url": "https://api.github.com/users/Marinovsky/repos", "events_url": "https://api.github.com/users/Marinovsky/events{/privacy}", "received_events_url": "https://api.github.com/users/Marinovsky/received_events", "type": "User", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/Marinovsky/Lean", "description": "Lean Algorithmic Trading Engine by QuantConnect (C#, Python)", "fork": true, "url": "https://api.github.com/repos/Marinovsky/Lean", "forks_url": "https://api.github.com/repos/Marinovsky/Lean/forks", "keys_url": "https://api.github.com/repos/Marinovsky/Lean/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/Marinovsky/Lean/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/Marinovsky/Lean/teams", "hooks_url": "https://api.github.com/repos/Marinovsky/Lean/hooks", "issue_events_url": "https://api.github.com/repos/Marinovsky/Lean/issues/events{/number}", "events_url": "https://api.github.com/repos/Marinovsky/Lean/events", "assignees_url": "https://api.github.com/repos/Marinovsky/Lean/assignees{/user}", "branches_url": "https://api.github.com/repos/Marinovsky/Lean/branches{/branch}", "tags_url": "https://api.github.com/repos/Marinovsky/Lean/tags", "blobs_url": "https://api.github.com/repos/Marinovsky/Lean/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/Marinovsky/Lean/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/Marinovsky/Lean/git/refs{/sha}", "trees_url": "https://api.github.com/repos/Marinovsky/Lean/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/Marinovsky/Lean/statuses/{sha}", "languages_url": "https://api.github.com/repos/Marinovsky/Lean/languages", "stargazers_url": "https://api.github.com/repos/Marinovsky/Lean/stargazers", "contributors_url": "https://api.github.com/repos/Marinovsky/Lean/contributors", "subscribers_url": "https://api.github.com/repos/Marinovsky/Lean/subscribers", "subscription_url": "https://api.github.com/repos/Marinovsky/Lean/subscription", "commits_url": "https://api.github.com/repos/Marinovsky/Lean/commits{/sha}", "git_commits_url": "https://api.github.com/repos/Marinovsky/Lean/git/commits{/sha}", "comments_url": "https://api.github.com/repos/Marinovsky/Lean/comments{/number}", "issue_comment_url": "https://api.github.com/repos/Marinovsky/Lean/issues/comments{/number}", "contents_url": "https://api.github.com/repos/Marinovsky/Lean/contents/{+path}", "compare_url": "https://api.github.com/repos/Marinovsky/Lean/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/Marinovsky/Lean/merges", "archive_url": "https://api.github.com/repos/Marinovsky/Lean/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/Marinovsky/Lean/downloads", "issues_url": "https://api.github.com/repos/Marinovsky/Lean/issues{/number}", "pulls_url": "https://api.github.com/repos/Marinovsky/Lean/pulls{/number}", "milestones_url": "https://api.github.com/repos/Marinovsky/Lean/milestones{/number}", "notifications_url": "https://api.github.com/repos/Marinovsky/Lean/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/Marinovsky/Lean/labels{/name}", "releases_url": "https://api.github.com/repos/Marinovsky/Lean/releases{/id}", "deployments_url": "https://api.github.com/repos/Marinovsky/Lean/deployments", "created_at": "2021-08-25T00:09:10Z", "updated_at": "2026-01-16T20:40:29Z", "pushed_at": "2026-01-16T21:27:48Z", "git_url": "git://github.com/Marinovsky/Lean.git", "ssh_url": "git@github.com:Marinovsky/Lean.git", "clone_url": "https://github.com/Marinovsky/Lean.git", "svn_url": "https://github.com/Marinovsky/Lean", "homepage": "https://lean.io", "size": 594150, "stargazers_count": 0, "watchers_count": 0, "language": "C#", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "master"}}, "base": {"label": "QuantConnect:master", "ref": "master", "sha": "7fb246511a6163565327ea9e26fb9b51f879bf16", "user": {"login": "QuantConnect", "id": 3912814, "node_id": "MDEyOk9yZ2FuaXphdGlvbjM5MTI4MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3912814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuantConnect", "html_url": "https://github.com/QuantConnect", "followers_url": "https://api.github.com/users/QuantConnect/followers", "following_url": "https://api.github.com/users/QuantConnect/following{/other_user}", "gists_url": "https://api.github.com/users/QuantConnect/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuantConnect/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuantConnect/subscriptions", "organizations_url": "https://api.github.com/users/QuantConnect/orgs", "repos_url": "https://api.github.com/users/QuantConnect/repos", "events_url": "https://api.github.com/users/QuantConnect/events{/privacy}", "received_events_url": "https://api.github.com/users/QuantConnect/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "repo": {"id": 27251463, "node_id": "MDEwOlJlcG9zaXRvcnkyNzI1MTQ2Mw==", "name": "Lean", "full_name": "QuantConnect/Lean", "private": false, "owner": {"login": "QuantConnect", "id": 3912814, "node_id": "MDEyOk9yZ2FuaXphdGlvbjM5MTI4MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3912814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuantConnect", "html_url": "https://github.com/QuantConnect", "followers_url": "https://api.github.com/users/QuantConnect/followers", "following_url": "https://api.github.com/users/QuantConnect/following{/other_user}", "gists_url": "https://api.github.com/users/QuantConnect/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuantConnect/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuantConnect/subscriptions", "organizations_url": "https://api.github.com/users/QuantConnect/orgs", "repos_url": "https://api.github.com/users/QuantConnect/repos", "events_url": "https://api.github.com/users/QuantConnect/events{/privacy}", "received_events_url": "https://api.github.com/users/QuantConnect/received_events", "type": "Organization", "user_view_type": "public", "site_admin": false}, "html_url": "https://github.com/QuantConnect/Lean", "description": "Lean Algorithmic Trading Engine by QuantConnect (Python, C#)", "fork": false, "url": "https://api.github.com/repos/QuantConnect/Lean", "forks_url": "https://api.github.com/repos/QuantConnect/Lean/forks", "keys_url": "https://api.github.com/repos/QuantConnect/Lean/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/QuantConnect/Lean/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/QuantConnect/Lean/teams", "hooks_url": "https://api.github.com/repos/QuantConnect/Lean/hooks", "issue_events_url": "https://api.github.com/repos/QuantConnect/Lean/issues/events{/number}", "events_url": "https://api.github.com/repos/QuantConnect/Lean/events", "assignees_url": "https://api.github.com/repos/QuantConnect/Lean/assignees{/user}", "branches_url": "https://api.github.com/repos/QuantConnect/Lean/branches{/branch}", "tags_url": "https://api.github.com/repos/QuantConnect/Lean/tags", "blobs_url": "https://api.github.com/repos/QuantConnect/Lean/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/QuantConnect/Lean/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/QuantConnect/Lean/git/refs{/sha}", "trees_url": "https://api.github.com/repos/QuantConnect/Lean/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/QuantConnect/Lean/statuses/{sha}", "languages_url": "https://api.github.com/repos/QuantConnect/Lean/languages", "stargazers_url": "https://api.github.com/repos/QuantConnect/Lean/stargazers", "contributors_url": "https://api.github.com/repos/QuantConnect/Lean/contributors", "subscribers_url": "https://api.github.com/repos/QuantConnect/Lean/subscribers", "subscription_url": "https://api.github.com/repos/QuantConnect/Lean/subscription", "commits_url": "https://api.github.com/repos/QuantConnect/Lean/commits{/sha}", "git_commits_url": "https://api.github.com/repos/QuantConnect/Lean/git/commits{/sha}", "comments_url": "https://api.github.com/repos/QuantConnect/Lean/comments{/number}", "issue_comment_url": "https://api.github.com/repos/QuantConnect/Lean/issues/comments{/number}", "contents_url": "https://api.github.com/repos/QuantConnect/Lean/contents/{+path}", "compare_url": "https://api.github.com/repos/QuantConnect/Lean/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/QuantConnect/Lean/merges", "archive_url": "https://api.github.com/repos/QuantConnect/Lean/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/QuantConnect/Lean/downloads", "issues_url": "https://api.github.com/repos/QuantConnect/Lean/issues{/number}", "pulls_url": "https://api.github.com/repos/QuantConnect/Lean/pulls{/number}", "milestones_url": "https://api.github.com/repos/QuantConnect/Lean/milestones{/number}", "notifications_url": "https://api.github.com/repos/QuantConnect/Lean/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/QuantConnect/Lean/labels{/name}", "releases_url": "https://api.github.com/repos/QuantConnect/Lean/releases{/id}", "deployments_url": "https://api.github.com/repos/QuantConnect/Lean/deployments", "created_at": "2014-11-28T04:20:19Z", "updated_at": "2026-01-19T02:15:47Z", "pushed_at": "2026-01-16T20:45:59Z", "git_url": "git://github.com/QuantConnect/Lean.git", "ssh_url": "git@github.com:QuantConnect/Lean.git", "clone_url": "https://github.com/QuantConnect/Lean.git", "svn_url": "https://github.com/QuantConnect/Lean", "homepage": "https://lean.io", "size": 582972, "stargazers_count": 15925, "watchers_count": 15925, "language": "C#", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 4220, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 241, "license": {"key": "apache-2.0", "name": "Apache License 2.0", "spdx_id": "Apache-2.0", "url": "https://api.github.com/licenses/apache-2.0", "node_id": "MDc6TGljZW5zZTI="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["algorithm", "algorithmic-trading-engine", "c-sharp", "finance", "forex", "lean-engine", "options", "python", "quantconnect", "stock-indicators", "trading", "trading-algorithms", "trading-bot", "trading-platform", "trading-strategies"], "visibility": "public", "forks": 4220, "open_issues": 241, "watchers": 15925, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/QuantConnect/Lean/pulls/9230"}, "html": {"href": "https://github.com/QuantConnect/Lean/pull/9230"}, "issue": {"href": "https://api.github.com/repos/QuantConnect/Lean/issues/9230"}, "comments": {"href": "https://api.github.com/repos/QuantConnect/Lean/issues/9230/comments"}, "review_comments": {"href": "https://api.github.com/repos/QuantConnect/Lean/pulls/9230/comments"}, "review_comment": {"href": "https://api.github.com/repos/QuantConnect/Lean/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/QuantConnect/Lean/pulls/9230/commits"}, "statuses": {"href": "https://api.github.com/repos/QuantConnect/Lean/statuses/245eba7fe9f73d00b5031485d47f8b420fec796b"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "merged": false, "mergeable": true, "rebaseable": false, "mergeable_state": "clean", "merged_by": null, "comments": 0, "review_comments": 0, "maintainer_can_modify": false, "commits": 2, "additions": 2143, "deletions": 0, "changed_files": 4}